<!DOCTYPE html>
<!--
 _____     _           _____ _     _
|  _  |___| |_ ___ ___|   __|_|___| |_ ___ ___   ___ ___ _____
|     |   |  _| . |   |   __| |_ -|   | -_|  _|_|  _| . |     |
|__|__|_|_|_| |___|_|_|__|  |_|___|_|_|___|_| |_|___|___|_|_|_|

Anton Fisher <a.fschr@gmail.com>

-->
<html lang="en">

<head>
    <meta charset="utf-8">
    <title lang="en">Anton Fisher / Using SVG icons in ExtJs</title>
    <meta name="description" content="extjs, svg, svg sprite, icons">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="author" content="Anton Fisher">
    <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed">
    <link href="/css/all.min.css" rel="stylesheet">
    <link href="/favicon.ico" rel="icon">
</head>

<body>
    <div class="container">
        <header>
            <div class="title-container" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <div class="title">
                    <a href="/" class="name" itemprop="name" title="Home">
                        Anton Fisher
                    </a>
                    <p class="about">
                        software engineer [js, go]
                    </p>
                </div>

                <img src="/images/anton-fisher-v3.jpg" class="photo" itemprop="image" title="Anton Fisher photo"
                    alt="Anton Fisher photo">
            </div>
            <div class="links-container">
                <a href="//github.com/antonfisher" target="_blank" rel="noreferrer" title="my code on github">
                    <span class="icon icon-github"></span>&nbsp;<span class="link-title">github</span>
                </a>
                <a href="//instagram.com/afschr" target="_blank" rel="noreferrer" title="my art on instagram">
                    <span class="icon icon-instagram"></span>&nbsp;<span class="link-title">instagram</span>
                </a>
                <a href="//twitter.com/afschr" target="_blank" rel="noreferrer" title="my random thoughts on twitter">
                    <span class="icon icon-twitter"></span>&nbsp;<span class="link-title">twitter</span>
                </a>
                <a href="//linkedin.com/in/afschr/en" target="_blank" rel="noreferrer" title="my job list on linkedin">
                    <span class="icon icon-linkedin"></span>&nbsp;<span class="link-title">linkedin</span>
                </a>
                <a href="/feed.xml" title="RSS feed link">
                    <span class="icon icon-rss2"></span>&nbsp;<span class="link-title">rss</span>
                </a>
                <a href="mailto:a.fschr@gmail.com" target="_blank" rel="noreferrer">
                    <span class="icon icon-mail"></span>&nbsp;<span class="link-title">a.fschr@gmail.com</span>
                </a>
            </div>
        </header>

        <div class="content">
            
<article itemscope itemtype="http://schema.org/Article">
    <h1 itemprop="name">Using SVG icons in ExtJs</h1>
    <time itemprop="datePublished" content="2016-06-06" datetime="2016-06-06">2016-06-06</time>

    
    <span class="tags">
        tags:
        <a href="/tags/extjs/">extjs</a>
        <a href="/tags/svg/">svg</a>
        <a href="/tags/icons/">icons</a>
        
    </span>
    

    <div class="clear"></div>

    <img itemprop="image" src="/images/posts/7-using-svg-icons-in-extjs/using-svg-icons-in-extjs-logo.png">
    <div class="clear"></div>

    <span itemprop="headline"><p>
<p>In this issue we will figure out how to use any <em>SVG</em> icons in <em>ExtJs</em> buttons.
All icons will be combined to a single sprite that injected to <code>index.html</code>.
Example uses <em>Google Icons</em> set.</p>
</p></span> <span itemprop="articleBody">
<p><em>ExtJs</em> has several ways to add an icon on a button.
Here are these properties:</p>
<ul>
<li><code>iconCls</code> + css class that defines background image</li>
<li><code>icon</code> + path to icon that will be used in background property</li>
<li><code>glyph</code> + font-based symbol, see <a href="http://docs.sencha.com/extjs/6.0/6.0.1-classic/#!/api/Ext.button.Button">docs…</a></li>
</ul>
<p>Let’s add some <em>SVG</em> here.</p>
<h2>Prepare <em>SVG</em> sprite</h2>
<p>Let’s create <em>SVG</em> sprite that contains all needed icons in project.
For this tutorial, I will use icons from <a href="https://design.google.com/icons/">https://design.google.com/icons/</a>.
But it can be any other <em>SVG</em> icons created in a vector-graphic software.
I selected <em>Save</em> and <em>Delete</em> icons from the set:
<center>
<img src="/images/posts/7-using-svg-icons-in-extjs/google-icons.png" alt="Google Icons" />
</center></p>
<p>Download <em>SVG</em> files of selected icons, e.g. <em>Save</em> icon will look like:</p>
<pre><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;#FFFFFF&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;24&quot;</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 24 24&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;24&quot;</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M0 0h24v24H0z&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;none&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p>Then combine icons into a single <em>SVG</em> sprite,
all <code>paths</code> of each icon should be into a separate <code>symbol</code> tag and has unique <em>id:</em></p>
<pre><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position:absolute;height:0;width:0;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">symbol</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 24 24&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;svg-icon-save&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M0 0h24v24H0z&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;none&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">symbol</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">symbol</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 24 24&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;svg-icon-delete&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M0 0h24v24H0V0z&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;none&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M0 0h24v24H0z&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;none&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">symbol</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<h2>Include the sprite into <em>index.html</em></h2>
<p>For include our sprite into page just paste it before <code>&lt;/body&gt;</code> tag:</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- other stuff here--&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;position:absolute;height:0;width:0;&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">symbol</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 24 24&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;svg-icon-save&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M0 0h24v24H0z&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;none&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">symbol</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">symbol</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 24 24&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;svg-icon-delete&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M0 0h24v24H0V0z&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;none&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M0 0h24v24H0z&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;none&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">symbol</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<p><em>SVG</em> sprite should be hidden on a page, so <code>position:absolute;height:0;width:0;</code> style was applied here.</p>
<h2>Override <em>Button</em> class</h2>
<p>The next step is overriding <em>Button</em> class to support new button’s parameter <code>iconSvg</code>.
Create a file <code>%APP_FOLDER%/overrides/button/Button.js</code> and copy this code into it:</p>
<pre><code class="language-javascript"><span class="hljs-comment">// overrides/button/Button.js</span>
Ext.define(<span class="hljs-string">&#x27;Override.button.Button&#x27;</span>, {
    <span class="hljs-attr">override</span>: <span class="hljs-string">&#x27;Ext.button.Button&#x27;</span>,

    <span class="hljs-comment">// inject svg to icon template</span>
    <span class="hljs-attr">iconTpl</span>: [
        <span class="hljs-string">&#x27;&lt;span id=&quot;{id}-btnIconEl&quot; data-ref=&quot;btnIconEl&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; &#x27;</span>,
            <span class="hljs-string">&#x27;class=&quot;{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}&quot; &#x27;</span>,
            <span class="hljs-string">&#x27;style=&quot;&#x27;</span>,
                <span class="hljs-string">&#x27;&lt;tpl if=&quot;iconUrl&quot;&gt;background-image:url({iconUrl});&lt;/tpl&gt;&#x27;</span>,
                <span class="hljs-string">&#x27;&lt;tpl if=&quot;glyph &amp;&amp; glyphFontFamily&quot;&gt;font-family:{glyphFontFamily};&lt;/tpl&gt;&#x27;</span>,
                <span class="hljs-string">&#x27;&lt;tpl if=&quot;iconSvg&quot;&gt;display: inline-block;&lt;/tpl&gt;&#x27;</span>,
            <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>,
            <span class="hljs-string">&#x27;&lt;tpl if=&quot;glyph&quot;&gt;&amp;#{glyph};&lt;/tpl&gt;&#x27;</span>,
            <span class="hljs-string">&#x27;&lt;tpl if=&quot;iconCls || iconUrl&quot;&gt;&amp;#160;&lt;/tpl&gt;&#x27;</span>,
            <span class="hljs-string">&#x27;&lt;tpl if=&quot;iconSvg&quot;&gt;&#x27;</span>, <span class="hljs-comment">// new property</span>
                <span class="hljs-string">&#x27;&lt;svg class=&quot;svg-icon svg-icon-{iconSvg}&quot;&gt;&lt;use xlink:href=&quot;#svg-icon-{iconSvg}&quot;&gt;&lt;/use&gt;&lt;/svg&gt;&#x27;</span>,
            <span class="hljs-string">&#x27;&lt;/tpl&gt;&#x27;</span>,
        <span class="hljs-string">&#x27;&lt;/span&gt;&#x27;</span>
    ].join(<span class="hljs-string">&#x27;&#x27;</span>),

    <span class="hljs-comment">// extend template values</span>
    <span class="hljs-attr">getTemplateArgs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">this</span>.callParent();
        args.iconSvg = <span class="hljs-built_in">this</span>.iconSvg;
        <span class="hljs-keyword">return</span> args;
    }
});
</code></pre>
<p>Looks like a lot of changes, but actually here are two small things:</p>
<ul>
<li>new property in template</li>
</ul>
<pre><code class="language-javascript"><span class="hljs-string">&#x27;&lt;tpl if=&quot;iconSvg&quot;&gt;&#x27;</span>, <span class="hljs-comment">// new property</span>
    <span class="hljs-string">&#x27;&lt;svg class=&quot;svg-icon svg-icon-{iconSvg}&quot;&gt;&lt;use xlink:href=&quot;#svg-icon-{iconSvg}&quot;&gt;&lt;/use&gt;&lt;/svg&gt;&#x27;</span>,
<span class="hljs-string">&#x27;&lt;/tpl&gt;&#x27;</span>,
</code></pre>
<ul>
<li>overrided <code>getTemplateArgs</code> function to add <code>iconSvg</code> parameter into template’s values object.</li>
</ul>
<h2>Add styles for new icons</h2>
<p>Add <em>CSS</em> styles for the icons to an appropriate place, e.i. <code>%APP_FOLDER%/sass/etc/svg-icons.scss</code>:</p>
<pre><code class="language-css"><span class="hljs-selector-class">.svg-icon</span> {
  <span class="hljs-attribute">fill</span>: <span class="hljs-number">#ffffff</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">24px</span>;
}

<span class="hljs-selector-class">.svg-icon-save</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-number">3px</span>;
}

<span class="hljs-selector-class">.svg-icon-delete</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">3px</span>;
}
</code></pre>
<p>Import the new style file <code>svg-icons.scss</code> in <code>%APP_FOLDER%/sass/etc/all.scss</code>:</p>
<pre><code class="language-scss"><span class="hljs-keyword">@import</span> <span class="hljs-string">&quot;svg-icons&quot;</span>;
</code></pre>
<p>If you use a theme package, it will be the best place for the new <code>svg-icons.scss</code> file.</p>
<p>After all changes, do not forget to re-build the application.</p>
<h2>Using the new icons with buttons</h2>
<p>Now we are ready to use our new icons.
Just add the <code>iconSvg</code> property into button configuration:</p>
<pre><code class="language-javascript">items: [{
    <span class="hljs-attr">xtype</span>: <span class="hljs-string">&#x27;button&#x27;</span>,
    <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;Save&#x27;</span>,
    <span class="hljs-attr">iconSvg</span>: <span class="hljs-string">&#x27;save&#x27;</span>, <span class="hljs-comment">// &lt;--- here</span>
    <span class="hljs-attr">scale</span>: <span class="hljs-string">&#x27;medium&#x27;</span>
}, {
    <span class="hljs-attr">xtype</span>: <span class="hljs-string">&#x27;button&#x27;</span>,
    <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;Delete&#x27;</span>,
    <span class="hljs-attr">iconSvg</span>: <span class="hljs-string">&#x27;delete&#x27;</span>, <span class="hljs-comment">// &lt;--- and here</span>
    <span class="hljs-attr">scale</span>: <span class="hljs-string">&#x27;medium&#x27;</span>
}]
</code></pre>
<p>Update a page and get the icons on buttons:</p>
<p><center>
<img src="/images/posts/7-using-svg-icons-in-extjs/buttons-with-google-icons.png" alt="Buttons with Google Icons" />
</center></p>
<p>There was a simplistic solution, that can be improved.
You could add <em>getter/setter</em> functions for the new property to make it bindable.
Instead of overriding you could use extended button class.
For using in other components just add a similar solution to it,
or place <em>SVG</em> icon template directly to component configuration.
Injection sprite into <code>index.html</code> can be automated.
All depends on a project.</p>
<h2>Links</h2>
<ul>
<li>Google Icons:
<a href="https://design.google.com/icons/">https://design.google.com/icons/</a></li>
<li>Good article about using <em>SVG</em> icons:
<a href="https://css-tricks.com/svg-sprites-use-better-icon-fonts/">https://css-tricks.com/svg-sprites-use-better-icon-fonts/</a>.</li>
</ul>
<p>Thanks for reading. I will glad to get any feedback!</p>
</span>
</article>

<div class="top-border-block comments">
    <b class="label">Comments:</b>
    <div id="disqus_thread"></div>
    <script>
        if (window.location.hostname !== 'localhost') {
            var disqus_config = function () {
                this.page.url = 'https://antonfisher.com/posts/2016/06/06/using-svg-icons-in-extjs/';
                this.page.identifier = '2016-06-06';
            };
            (function () {
                var d = document, s = d.createElement('script');
                s.src = '//antonfishercom.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        }
    </script>
</div>

        </div>

        <footer>
            <nav>
                <a href="/">home</a>
                <span class="divider">&nbsp;</span>
                <a href="/feed.xml">rss</a>
            </nav>
            <div>
                &copy;
                <time>
                    <script>document.write(new Date().getFullYear())</script></time>
                Anton Fisher
            </div>
        </footer>
    </div>
</body>
<script>
    if (window.location.hostname !== 'localhost') {
        (function (i, s, o, g, r, a, m) {i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)}, i[r].l = 1 * new Date();a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-44250383-1', 'antonfisher.com');
        ga('send', 'pageview');
    }
</script>

</html>
