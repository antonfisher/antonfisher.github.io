<!DOCTYPE html>
<!--
 _____     _           _____ _     _
|  _  |___| |_ ___ ___|   __|_|___| |_ ___ ___   ___ ___ _____
|     |   |  _| . |   |   __| |_ -|   | -_|  _|_|  _| . |     |
|__|__|_|_|_| |___|_|_|__|  |_|___|_|_|___|_| |_|___|___|_|_|_|

Anton Fisher <a.fschr@gmail.com>

-->
<html lang="en">
<head>
    <meta charset="utf-8">
    <title lang="en">Anton Fisher's notes / How to find Raspberry Pi IP address (DHCP)</title>
    <meta name="description" content="raspberry pi, ip address, bash, nmap">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Anton Fisher">
    <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />
    <link rel="stylesheet" href="/css/all.min.css">
    <link rel="icon" href="/favicon.ico">
</head>
<body>
<div class="container">
    <header class="title" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <a href="/" class="title" title="Home">
            <span itemprop="name">Anton Fisher</span><span class="notes">&#8217;s notes</span>
        </a>

        <nav>
            <div class="link">
                <a href="/about" title="About">about</a>
            </div>
            <div class="link">
                <a href="/feed.xml" title="RSS feed link">rss</a>
            </div>
        </nav>

        <a href="/about">
            <img src="/images/anton-fisher-v1.jpg"
                 title="Contact information"
                 itemprop="image"
                 alt="About">
        </a>

        <div class="clear"></div>
    </header>

    <div class="content">
        
<article itemscope itemtype="http://schema.org/Article">
    <h1 itemprop="name">How to find Raspberry Pi IP address (DHCP)</h1>
    <time itemprop="datePublished" content="2015-12-04" datetime="2015-12-04">2015-12-04</time>
    <div class="clear"></div>

    <img itemprop="image" src="/images/posts/1-how-to-find-raspberry-pi-ip-address/raspberry-pi.jpg">
    <div class="clear"></div>

    <span itemprop="headline"><p>
<p>I got my first Raspberry Pi.</p>
<p>But I do not have a display and a keyboard which make OS installation process simple.
After some search, I found
<a href="http://raspberrypi.stackexchange.com/questions/15192/installing-raspbian-from-noobs-without-display">solution</a>
which uses preconfigured SD card using a laptop. Used <em>NOOBS v1.5.0</em> with changed <em>recovery.cmdline</em> file.</p>
</p></span> <span itemprop="articleBody">
<p>Before:</p>
<pre><code class="language-bash">runinstaller quiet ramdisk_size=32768 root=/dev/ram0 init=/init vt.cur_default=1 elevator=deadline
</code></pre>
<p>After:</p>
<pre><code class="language-bash">runinstaller quiet ramdisk_size=32768 root=/dev/ram0 init=/init vt.cur_default=1 elevator=deadline silentinstall
</code></pre>
<p>I put card to Raspberry and power it.
It takes about 10-15 minutes to complete installation.
But I still could not connect to it, because I did not know its IP address.</p>
<p>First of all you need to know range of your router’s DHCP addresses.
In common case they will be <em>192.168.1.[0-255]</em> or <em>10.0.0.[0-255]</em>.
Using <em>ifconfig</em> give me laptop IP address: <em>10.0.0.172</em> on wlan0 interface.
It means my router uses <em>10.0.0.[0-255]</em> range (<em>10.0.0.0/24</em>).</p>
<p>My first solution was simple <em>ping</em> all addresses in this subnetwork (oneliner in bash):</p>
<pre><code class="language-bash">$ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..255}; <span class="hljs-keyword">do</span> ping -w 1 10.0.0.<span class="hljs-string">"<span class="hljs-variable">${i}</span>"</span>&gt;/dev/null; <span class="hljs-keyword">if</span> [[ <span class="hljs-string">"<span class="hljs-variable">${?}</span>"</span> == 0 ]] ; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"10.0.0.<span class="hljs-variable">${i}</span>"</span>; <span class="hljs-keyword">fi</span>; <span class="hljs-keyword">done</span>; <span class="hljs-built_in">echo</span> <span class="hljs-string">"end"</span>;
</code></pre>
<p>It works, but you need to try <em>ssh</em> connect to all results to identify Raspberry Pi
(by the way, default user/password will be: <em>pi / raspberry</em>).
I run it during installation and did not care about performance.</p>
<p>Result:</p>
<pre><code class="language-bash">10.0.0.1
10.0.0.151 &lt;--- PI!
10.0.0.172 &lt;--- me
10.0.0.228
Do you want to ping broadcast? Then -b
end
</code></pre>
<p>When new address appears here I used it.
It was Raspberry, but it was very slow…</p>
<p>The <strong>right solution</strong> is using <em>nmap</em> and 22 port only:</p>
<pre><code class="language-bash">$ nmap <span class="hljs-_">-s</span>V -p 22 10.0.0.0/24

Starting Nmap 6.40 ( http://nmap.org ) at 2015-12-13 16:11 PST

...

Nmap scan report <span class="hljs-keyword">for</span> 10.0.0.151
Host is up (0.063s latency).
PORT   STATE SERVICE VERSION
22/tcp open  ssh     (protocol 2.0)
1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at http://www.insecure.org/cgi-bin/servicefp-submit.cgi :
SF-Port22-TCP:V=6.40%I=7%D=12/13%Time=566E0957%P=x86_64-pc-linux-gnu%r(NUL
SF:L,22,<span class="hljs-string">"SSH-2\.0-OpenSSH_6\.7p1\x20Raspbian-5\r\n"</span>); &lt;--- PI!

...

Service detection performed. Please report any incorrect results at http://nmap.org/submit/ .
Nmap <span class="hljs-keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="hljs-keyword">in</span> 9.58 seconds
</code></pre>
<p>Result presents only available IP addresses without OS type, but it takes only <strong>9.58</strong> seconds!</p>
<pre><code class="language-bash">$ ssh -Ct pi@10.0.0.151
pi@10.0.0.151<span class="hljs-string">'s password:

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sat Dec  5 11:17:11 2015
pi@raspberrypi:~ $
</span></code></pre>
<p>How official blog advises how to do see here:
<a href="https://www.raspberrypi.org/documentation/troubleshooting/hardware/networking/ip-address.md">www.raspberrypi.org</a>.</p>
<p><em>Note: I use Ubuntu.</em></p>
</span>
</article>

<div class="top-border-block share-buttons">
        <b class="label">Share:</b>

        <!-- twitter -->
        <a href="https://twitter.com/share" class="twitter-share-button"
           data-text="How to find Raspberry Pi IP address (DHCP)"
           data-via="afschr">
            Tweet
        </a>
        <script>
            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
            if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
            fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
        </script>
        <!-- /twitter -->
</div>

<div class="top-border-block comments">
    <b class="label">Comments:</b>
    <div id="disqus_thread"></div>
    <script>
        if (window.location.hostname !== 'localhost') {
            var disqus_config = function () {
                this.page.url = 'http://antonfisher.com/posts/2015/12/04/how-to-find-raspberry-pi-ip-address-dhcp/';
                this.page.identifier = '2015-12-04';
            };
            (function () {
                var d = document, s = d.createElement('script');
                s.src = '//antonfishercom.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        }
    </script>
</div>

    </div>

    <footer>
        <nav>
            <a href="/">home</a>
            <span class="devider">&nbsp;</span>
            <a href="/about">about</a>
            <span class="devider">&nbsp;</span>
            <a href="/feed.xml">rss</a>
        </nav>
        <div>
            &copy;
            <time datetime="2015">2015</time>
            Anton Fisher
        </div>
    </footer>
</div>
</body>
<script>
    if (window.location.hostname !== 'localhost') {
        (function (i, s, o, g, r, a, m) {i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)}, i[r].l = 1 * new Date();a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-44250383-1', 'antonfisher.com');
        ga('send', 'pageview');
    }
</script>
</html>
