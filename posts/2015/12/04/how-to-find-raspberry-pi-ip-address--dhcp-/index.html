<!DOCTYPE html>
<!--
 _____     _           _____ _     _
|  _  |___| |_ ___ ___|   __|_|___| |_ ___ ___   ___ ___ _____
|     |   |  _| . |   |   __| |_ -|   | -_|  _|_|  _| . |     |
|__|__|_|_|_| |___|_|_|__|  |_|___|_|_|___|_| |_|___|___|_|_|_|

Anton Fisher <a.fschr@gmail.com>

-->
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Anton Fisher's notes</title>
    <meta name="description" content="javascript, extjs, nodejs, bash">
    <meta name="author" content="Anton Fisher">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/all.min.css">
    <link rel="icon" href="/favicon.ico">
    <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />
</head>
<body>
<div class="container">
    <header class="title" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <a href="/" class="title" title="Home">
            <span itemprop="name">Anton Fisher</span><span class="notes">&#8217;s notes</span>
        </a>

        <div class="link">
            <a href="/about" title="About">about</a>
        </div>
        <div class="link">
            <a href="/feed.xml" title="RSS feed link">rss</a>
        </div>

        <a href="/about" itemprop="image">
            <img src="https://avatars.githubusercontent.com/u/599352?s=50" title="Contact information" alt="About">
        </a>

        <div class="clear"></div>
    </header>

    <div class="content">
        
    <article itemscope itemtype="http://schema.org/Article">
        <h1 itemprop="name">How to find Raspberry Pi IP address (DHCP)</h1>
        <time itemprop="datePublished" content="2015-12-04" datetime="2015-12-04">2015-12-04</time>
        <span itemprop="articleBody"><p><img itemprop="image" src="https://drive.google.com/uc?export=view&amp;id=0ByNyABxh-2eYa05GeHhxMk0tMnc" alt="Raspberry Pi" /></p>
<p>I got my first Raspberry Pi.</p>
<p>But I do not have a display and a keyboard which make OS installation process simple.
After some search, I found
<a href="http://raspberrypi.stackexchange.com/questions/15192/installing-raspbian-from-noobs-without-display">solution</a>
which uses preconfigured SD card using a laptop. Used <em>NOOBS v1.5.0</em> with changed <em>recovery.cmdline</em> file<cut>:</p>
<p>Before:</p>
<pre><code class="language-bash">runinstaller quiet ramdisk_size=32768 root=/dev/ram0 init=/init vt.cur_default=1 elevator=deadline
</code></pre>
<p>After:</p>
<pre><code class="language-bash">runinstaller quiet ramdisk_size=32768 root=/dev/ram0 init=/init vt.cur_default=1 elevator=deadline silentinstall
</code></pre>
<p>I put card to Raspberry and power it.
It takes about 10-15 minutes to complete installation.
But I still could not connect to it, because I did not know its IP address.</p>
<p>First of all you need to know range of your router’s DHCP addresses.
In common case they will be <em>192.168.1.[0-255]</em> or <em>10.0.0.[0-255]</em>.
Using <em>ifconfig</em> give me laptop IP address: <em>10.0.0.172</em> on wlan0 interface.
It means my router uses <em>10.0.0.[0-255]</em> range (<em>10.0.0.0/24</em>).</p>
<p>My first solution was simple <em>ping</em> all addresses in this subnetwork (oneliner in bash):</p>
<pre><code class="language-bash">$ <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..255}; <span class="hljs-keyword">do</span> ping -w 1 10.0.0.<span class="hljs-string">"<span class="hljs-variable">${i}</span>"</span>&gt;/dev/null; <span class="hljs-keyword">if</span> [[ <span class="hljs-string">"<span class="hljs-variable">${?}</span>"</span> == 0 ]] ; <span class="hljs-keyword">then</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"10.0.0.<span class="hljs-variable">${i}</span>"</span>; <span class="hljs-keyword">fi</span>; <span class="hljs-keyword">done</span>; <span class="hljs-built_in">echo</span> <span class="hljs-string">"end"</span>;
</code></pre>
<p>It works, but you need to try <em>ssh</em> connect to all results to identify Raspberry Pi
(by the way, default user/password will be: <em>pi</em>/<em>raspberry</em>).
I run it during installation and did not care about performance.</p>
<p>Result:</p>
<pre><code class="language-bash">10.0.0.1
10.0.0.151 &lt;--- PI!
10.0.0.172 &lt;--- me
10.0.0.228
Do you want to ping broadcast? Then -b
end
</code></pre>
<p>When new address appears here I used it.
It was Raspberry, but it was very slow…</p>
<p>The right solution is:</p>
<pre><code class="language-bash">$ nmap -sn 10.0.0.0/24

Starting Nmap 6.40 ( http://nmap.org ) at 2015-12-06 01:31 PST
Nmap scan report <span class="hljs-keyword">for</span> 10.0.0.1
Host is up (0.0080s latency).
Nmap scan report <span class="hljs-keyword">for</span> 10.0.0.151 &lt;--- PI!
Host is up (0.095s latency).
Nmap scan report <span class="hljs-keyword">for</span> 10.0.0.172 &lt;--- me
Host is up (0.00010s latency).
Nmap scan report <span class="hljs-keyword">for</span> 10.0.0.228
Host is up (0.040s latency).
Nmap <span class="hljs-keyword">done</span>: 256 IP addresses (4 hosts up) scanned <span class="hljs-keyword">in</span> 3.33 seconds
</code></pre>
<p>Result presents only available IP addresses without OS type, but it takes only <strong>3.33</strong> seconds!</p>
<pre><code class="language-bash">$ ssh -Ct pi@10.0.0.151
pi@10.0.0.151<span class="hljs-string">'s password: 

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sat Dec  5 11:17:11 2015
pi@raspberrypi:~ $
</span></code></pre>
<p>How official blog advises how to do see here:
<a href="https://www.raspberrypi.org/documentation/troubleshooting/hardware/networking/ip-address.md">www.raspberrypi.org</a>.</p>
<p><em>Note: I use Ubuntu.</em></p>
</span>
    </article>

    </div>

    <footer>
        <div>
            <a href="/">home</a>
            <span class="devider">&nbsp;</span>
            <a href="/about">about</a>
            <span class="devider">&nbsp;</span>
            <a href="/feed.xml">rss</a>
        </div>
        <div class="right">
            &copy;
            <time datetime="2015">2015</time>
            Anton Fisher
        </div>
    </footer>
</div>
</body>
<script>
    (function (i, s, o, g, r, a, m) {i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {
    (i[r].q = i[r].q || []).push(arguments)}, i[r].l = 1 * new Date();a = s.createElement(o),
    m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', '', 'antonfisher.com');
    ga('send', 'pageview');
</script>
</html>
