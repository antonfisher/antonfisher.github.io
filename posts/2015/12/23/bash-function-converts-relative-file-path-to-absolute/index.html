<!DOCTYPE html>
<!--
 _____     _           _____ _     _
|  _  |___| |_ ___ ___|   __|_|___| |_ ___ ___   ___ ___ _____
|     |   |  _| . |   |   __| |_ -|   | -_|  _|_|  _| . |     |
|__|__|_|_|_| |___|_|_|__|  |_|___|_|_|___|_| |_|___|___|_|_|_|

Anton Fisher <a.fschr@gmail.com>

-->
<html lang="en">
<head>
    <meta charset="utf-8">
    <title lang="en">Anton Fisher's notes / Bash: function converts relative file path to absolute</title>
    <meta name="description" content="bash, path, ubuntu">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Anton Fisher">
    <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />
    <link rel="stylesheet" href="/css/all.min.css">
    <link rel="icon" href="/favicon.ico">
</head>
<body>
<div class="container">
    <header class="title" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <a href="/" class="title" title="Home">
            <span itemprop="name">Anton Fisher</span><span class="notes">&#8217;s notes</span>
        </a>

        <nav>
            <div class="link">
                <a href="/about" title="About">about</a>
            </div>
            <div class="link">
                <a href="/feed.xml" title="RSS feed link">rss</a>
            </div>
        </nav>

        <a href="/about">
            <img src="/images/anton-fisher-v1.jpg"
                 title="Contact information"
                 itemprop="image"
                 alt="About">
        </a>

        <div class="clear"></div>
    </header>

    <div class="content">
        
<article itemscope itemtype="http://schema.org/Article">
    <h1 itemprop="name">Bash: function converts relative file path to absolute</h1>
    <time itemprop="datePublished" content="2015-12-23" datetime="2015-12-23">2015-12-23</time>
    <div class="clear"></div>

    <img itemprop="image" src="/images/posts/2-bash-function-converts-relative-file-path-to-absolute/bash-terminal.png">
    <div class="clear"></div>

    <span itemprop="headline"><p>
<p>For converting relative path to absolute full path in scripts I use this simple function.
Also it fits for path which contain '~â€™.</p>
</p></span> <span itemprop="articleBody">
<pre><code class="language-bash"><span class="hljs-comment">##</span>
<span class="hljs-comment"># Get full file/directory path</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Examples:</span>
<span class="hljs-comment">#   full_path=$(get_full_path '/tmp');       # /tmp</span>
<span class="hljs-comment">#   full_path=$(get_full_path '~/..');       # /home</span>
<span class="hljs-comment">#   full_path=$(get_full_path '../../../');  # /home</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># @param {String} $1 - relative path</span>
<span class="hljs-comment"># @returns {String} absolute path</span>
<span class="hljs-comment">#</span>
<span class="hljs-keyword">function</span> get_full_path {
    <span class="hljs-built_in">local</span> user_home;
    <span class="hljs-built_in">local</span> user_home_sed;
    <span class="hljs-built_in">local</span> rel_path;
    <span class="hljs-built_in">local</span> result;
    user_home=<span class="hljs-string">"<span class="hljs-variable">${HOME//\//\\\/}</span>"</span>;
    user_home_sed=<span class="hljs-string">"s#~#<span class="hljs-variable">${user_home}</span>#g"</span>;
    rel_path=$( <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${1}</span>"</span> | sed <span class="hljs-string">"<span class="hljs-variable">${user_home_sed}</span>"</span> );
    result=$( readlink <span class="hljs-_">-e</span> <span class="hljs-string">"<span class="hljs-variable">${rel_path}</span>"</span> );
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${result}</span>"</span>;
}
</code></pre>
<p>Usage example:</p>
<pre><code class="language-bash">text=<span class="hljs-string">"Enter path to applications folder:"</span>;
<span class="hljs-built_in">read</span> -r <span class="hljs-_">-e</span> -p <span class="hljs-string">"<span class="hljs-variable">${text}</span>"</span> apps_path_user;
full_path=$(get_full_path <span class="hljs-string">"<span class="hljs-variable">${apps_path_user}</span>"</span>);
</code></pre>
<p>Download from <a href="https://gist.githubusercontent.com/antonfisher/fb8a9bdb4b9fc2d44134/raw/cc01888a29c874c181992085db42d812ce3acd9b/get_full_path.sh">Github</a>.</p>
<p><em>Note: I use Ubuntu.</em></p>
</span>
</article>

<div class="comments">
    <b class="label">Comments:</b>
    <div id="disqus_thread"></div>
    <script>
        if (window.location.hostname !== 'localhost') {
            var disqus_config = function () {
                this.page.url = 'http://antonfisher.com/posts/2015/12/23/bash-function-converts-relative-file-path-to-absolute';
                this.page.identifier = '2015-12-23';
            };
            (function () {
                var d = document, s = d.createElement('script');
                s.src = '//antonfishercom.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        }
    </script>
</div>

    </div>

    <footer>
        <nav>
            <a href="/">home</a>
            <span class="devider">&nbsp;</span>
            <a href="/about">about</a>
            <span class="devider">&nbsp;</span>
            <a href="/feed.xml">rss</a>
        </nav>
        <div>
            &copy;
            <time datetime="2015">2015</time>
            Anton Fisher
        </div>
    </footer>
</div>
</body>
<script>
    if (window.location.hostname !== 'localhost') {
        (function (i, s, o, g, r, a, m) {i['GoogleAnalyticsObject'] = r;i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)}, i[r].l = 1 * new Date();a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];a.async = 1;a.src = g;m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-44250383-1', 'antonfisher.com');
        ga('send', 'pageview');
    }
</script>
</html>
